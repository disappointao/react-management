{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nvar _jsxFileName = \"/Users/ao/WebstormProjects/react-management/src/view/role/role.jsx\";\nimport React, { Component } from 'react';\nimport { PAGE_SIZE } from '../../utils/contains';\nimport { reqRole } from '../../api/index';\nexport default class Role extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      roles: [],\n      role: {},\n      onshow: false\n    };\n\n    this.onRow = row => {\n      return {\n        onClick: event => {\n          this.setState({\n            role: row\n          });\n        }\n      };\n    };\n\n    this.getRole = async () => {\n      const result = await reqRole();\n\n      if (result.status == 0) {\n        this.setState({\n          roles: result.data\n        });\n      }\n    };\n\n    this.initColumns = () => {\n      this.columns = [{\n        title: '角色名称',\n        dataIndex: 'name'\n      }, {\n        title: '创建时间',\n        dataIndex: 'create_time'\n      }, {\n        title: '授权时间',\n        dataIndex: 'auth_time'\n      }, {\n        title: '授权人',\n        dataIndex: 'auth_name'\n      }];\n    };\n\n    this.handleOk = () => {};\n\n    this.handleCancel = () => {\n      this.setState({\n        onshow: false\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.initColumns();\n  }\n\n  componentDidMount() {\n    this.getRole();\n  }\n\n  render() {\n    const _this$state = this.state,\n          role = _this$state.role,\n          onshow = _this$state.onshow;\n    const title = React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(_Button, {\n      type: \"primary\",\n      onClick: () => {\n        this.setState({\n          onshow: true\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u521B\\u5EFA\\u89D2\\u8272\"), React.createElement(_Button, {\n      type: \"primary\",\n      disabled: !role._id,\n      style: {\n        marginLeft: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"\\u66F4\\u65B0\\u6743\\u9650\"));\n    return React.createElement(_Card, {\n      title: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      onRow: this.onRow,\n      columns: this.columns,\n      dataSource: this.state.roles,\n      bordered: true,\n      rowKey: \"_id\",\n      pagination: {\n        defaultPageSize: PAGE_SIZE\n      },\n      rowSelection: {\n        type: 'radio',\n        selectedRowKeys: [role._id]\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(_Modal, {\n      title: \"Basic Modal\",\n      visible: onshow,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Some contents...\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Some contents...\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Some contents...\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/ao/WebstormProjects/react-management/src/view/role/role.jsx"],"names":["React","Component","PAGE_SIZE","reqRole","Role","state","roles","role","onshow","onRow","row","onClick","event","setState","getRole","result","status","data","initColumns","columns","title","dataIndex","handleOk","handleCancel","componentWillMount","componentDidMount","render","_id","marginLeft","defaultPageSize","type","selectedRowKeys"],"mappings":"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","sourcesContent":["import  React,{Component} from 'react';\nimport {Card,Button,Table,Modal} from 'antd';\n\nimport {PAGE_SIZE} from '../../utils/contains';\nimport {reqRole} from '../../api/index';\nexport default class Role extends  Component {\n  state={\n    roles:[],\n    role:{},\n    onshow:false\n  };\n  onRow=(row)=>{\n    return {\n      onClick:event=>{\n       this.setState({\n         role:row\n       })\n      }\n    }\n  };\n  getRole=async ()=>{\n    const result=await reqRole();\n    if(result.status==0){\n      this.setState({\n        roles:result.data,\n      })\n    }\n  };\n  initColumns=()=>{\n    this.columns=[\n      {\n        title: '角色名称',\n        dataIndex: 'name'\n      },\n      {\n        title: '创建时间',\n        dataIndex: 'create_time',\n      },\n      {\n        title: '授权时间',\n        dataIndex: 'auth_time',\n      },\n      {\n        title: '授权人',\n        dataIndex: 'auth_name'\n      },\n    ]\n  };\n\n  componentWillMount() {\n    this.initColumns();\n  }\n  componentDidMount() {\n    this.getRole();\n  }\n  handleOk=()=>{\n\n  };\n  handleCancel=()=>{\n    this.setState({\n      onshow:false\n    })\n  };\n  render() {\n    const {role,onshow}=this.state;\n    const title=(\n        <span>\n          <Button type='primary' onClick={()=>{this.setState({onshow:true})}}>创建角色</Button>\n          <Button type='primary' disabled={!role._id} style={{marginLeft:20}}>更新权限</Button>\n        </span>\n    );\n    return (\n        <Card title={title}>\n          <Table\n              onRow={this.onRow}\n              columns={this.columns}\n              dataSource={this.state.roles}\n              bordered\n              rowKey='_id'\n              pagination={{defaultPageSize:PAGE_SIZE}}\n              rowSelection={{type:'radio',selectedRowKeys:[role._id]}}\n          />\n          <Modal\n              title=\"Basic Modal\"\n              visible={onshow}\n              onOk={this.handleOk}\n              onCancel={this.handleCancel}\n          >\n            <p>Some contents...</p>\n            <p>Some contents...</p>\n            <p>Some contents...</p>\n          </Modal>\n        </Card>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}