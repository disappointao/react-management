{"ast":null,"code":"var _jsxFileName = \"/Users/ao/WebstormProjects/react-management/src/view/product/richTextEditor.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { EditorState, convertToRaw, ContentState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nexport default class RichTextEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getHtmlData = () => {\n      return draftToHtml(convertToRaw(EditorState.getCurrentContent()));\n    };\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n    };\n\n    const html = this.props.html;\n\n    if (html) {}\n\n    const contentBlock = htmlToDraft(html);\n\n    if (contentBlock) {\n      const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n      const editorState = EditorState.createWithContent(contentState);\n      this.state = {\n        editorState\n      };\n    } else {\n      this.state = {\n        editorState: EditorState.createEmpty()\n      };\n    }\n  }\n\n  render() {\n    const editorState = this.state.editorState;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Editor, {\n      editorState: editorState,\n      editorStyle: {\n        border: '1px solid #ff9f43',\n        borderRadius: '10px',\n        height: 200,\n        padding: '0 20px'\n      },\n      onEditorStateChange: this.onEditorStateChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }));\n  }\n\n}\nRichTextEditor.propTypes = {\n  html: PropTypes.string\n};","map":{"version":3,"sources":["/Users/ao/WebstormProjects/react-management/src/view/product/richTextEditor.jsx"],"names":["React","Component","PropTypes","EditorState","convertToRaw","ContentState","Editor","draftToHtml","htmlToDraft","RichTextEditor","constructor","props","getHtmlData","getCurrentContent","onEditorStateChange","editorState","setState","html","contentBlock","contentState","createFromBlockArray","contentBlocks","createWithContent","state","createEmpty","render","border","borderRadius","height","padding","propTypes","string"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,WAAT,EAAsBC,YAAtB,EAAmCC,YAAnC,QAAsD,UAAtD;AACA,SAASC,MAAT,QAAuB,qBAAvB;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,OAAO,kDAAP;AAEA,eAAe,MAAMC,cAAN,SAA6BR,SAA7B,CAAuC;AAKtDS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkBjBC,WAlBiB,GAkBL,MAAI;AAChB,aAAOL,WAAW,CAACH,YAAY,CAACD,WAAW,CAACU,iBAAZ,EAAD,CAAb,CAAlB;AACC,KApBgB;;AAAA,SAqBjBC,mBArBiB,GAqBgBC,WAAD,IAAiB;AAC/C,WAAKC,QAAL,CAAc;AACZD,QAAAA;AADY,OAAd;AAGD,KAzBgB;;AAEf,UAAME,IAAI,GAAG,KAAKN,KAAL,CAAWM,IAAxB;;AACA,QAAGA,IAAH,EAAQ,CACP;;AACD,UAAMC,YAAY,GAAGV,WAAW,CAACS,IAAD,CAAhC;;AACA,QAAIC,YAAJ,EAAkB;AAChB,YAAMC,YAAY,GAAGd,YAAY,CAACe,oBAAb,CAAkCF,YAAY,CAACG,aAA/C,CAArB;AACA,YAAMN,WAAW,GAAGZ,WAAW,CAACmB,iBAAZ,CAA8BH,YAA9B,CAApB;AACA,WAAKI,KAAL,GAAa;AACXR,QAAAA;AADW,OAAb;AAGD,KAND,MAMK;AACL,WAAKQ,KAAL,GAAW;AACXR,QAAAA,WAAW,EAAEZ,WAAW,CAACqB,WAAZ;AADF,OAAX;AAGC;AACF;;AAUDC,EAAAA,MAAM,GAAG;AAAA,UACCV,WADD,GACiB,KAAKQ,KADtB,CACCR,WADD;AAEP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AACE,MAAA,WAAW,EAAEA,WADf;AAEE,MAAA,WAAW,EAAE;AAACW,QAAAA,MAAM,EAAC,mBAAR;AAA4BC,QAAAA,YAAY,EAAC,MAAzC;AAAgDC,QAAAA,MAAM,EAAC,GAAvD;AAA2DC,QAAAA,OAAO,EAAC;AAAnE,OAFf;AAGE,MAAA,mBAAmB,EAAE,KAAKf,mBAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AASD;;AA3CmD;AAAjCL,c,CACdqB,S,GAAU;AACjBb,EAAAA,IAAI,EAACf,SAAS,CAAC6B;AADE,C","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { EditorState, convertToRaw,ContentState} from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n\nexport default class RichTextEditor extends Component {\nstatic propTypes={\nhtml:PropTypes.string\n}\n\nconstructor(props) {\n    super(props);\n    const html = this.props.html;\n    if(html){\n    }\n    const contentBlock = htmlToDraft(html);\n    if (contentBlock) {\n      const contentState = ContentState.createFromBlockArray(contentBlock.contentBlocks);\n      const editorState = EditorState.createWithContent(contentState);\n      this.state = {\n        editorState,\n      };\n    }else{\n    this.state={\n    editorState: EditorState.createEmpty(),\n    }\n    }\n  }\n  getHtmlData=()=>{\n  return draftToHtml(convertToRaw(EditorState.getCurrentContent()));\n  }\n  onEditorStateChange: Function = (editorState) => {\n    this.setState({\n      editorState,\n    });\n  };\n\n  render() {\n    const { editorState } = this.state;\n    return (\n      <div>\n        <Editor\n          editorState={editorState}\n          editorStyle={{border:'1px solid #ff9f43',borderRadius:'10px',height:200,padding:'0 20px'}}\n          onEditorStateChange={this.onEditorStateChange}\n        />\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}