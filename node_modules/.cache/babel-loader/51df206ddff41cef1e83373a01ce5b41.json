{"ast":null,"code":"import \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nimport jsonp from 'jsonp';\nimport ajax from './ajax';\nconst BASE = '';\nexport const reqLogin = (username, password) => ajax(BASE + '/login', {\n  username,\n  password\n}, 'POST');\nexport const reqWeather = city => {\n  return new Promise((resolve, reject) => {\n    const url = \"http://api.map.baidu.com/telematics/v3/weather?location=\".concat(city, \"&output=json&ak=3p49MVra6urFRGOT9s8UBWr2\");\n    jsonp(url, {}, (err, data) => {\n      if (!err && data.status === 'success') {\n        // 取出需要的数据\n        const _data$results$0$weath = data.results[0].weather_data[0],\n              dayPictureUrl = _data$results$0$weath.dayPictureUrl,\n              weather = _data$results$0$weath.weather;\n        resolve({\n          dayPictureUrl,\n          weather\n        });\n      } else {\n        _message.error('获取天气信息失败!');\n      }\n    });\n  });\n}; // 获取一级/二级分类的列表\n\nexport const reqCategorys = parentId => ajax(BASE + '/manage/category/list', {\n  parentId\n}); // 添加分类\n\nexport const reqAddCategory = (categoryName, parentId) => ajax(BASE + '/manage/category/add', {\n  categoryName,\n  parentId\n}, 'POST'); // 更新分类\n\nexport const reqUpdateCategory = ({\n  categoryId,\n  categoryName\n}) => ajax(BASE + '/manage/category/update', {\n  categoryId,\n  categoryName\n}, 'POST'); //获取商品列表\n\nexport const reqProduct = (pageNum, pageSize) => ajax(BASE + '/manage/product/list', {\n  pageNum,\n  pageSize\n}); //搜索商品,有两种SearchType类型，一种是更具名字搜索，一种是更具内容描述进行搜索\n\nexport const reqSearchProduct = (pageNum, pageSize, SearchName, SearchType) => ajax(BASE + '/manage/product/search', {\n  pageNum,\n  pageSize,\n  [SearchType]: SearchName\n}); //更新商品的状态，判断是否已上架\n\nexport const reqUpdateStatus = (productId, status) => ajax(BASE + '/manage/product/updateStatus', {\n  productId,\n  status\n}, 'POST'); //获取商品所属分类\n\nexport const reqCategory = categoryId => ajax(BASE + '/manage/category/info', {\n  categoryId\n}); //删除图片列表\n\nexport const reqDeleteImg = name => ajax(BASE + '/manage/img/delete', {\n  name\n}, 'POST'); //更新或添加商品\n\nexport const reqAddOrUpdateProduct = product => ajax(BASE + '/manage/product/' + (product._id ? 'update' : 'add'), product, 'POST'); //获取所有角色\n\nexport const reqRole = () => ajax(BASE + '/manage/role/list'); //添加角色\n\nexport const reqAddRole = name => ajax(BASE + '/manage/role/add', {\n  name\n}, 'POST'); //更新角色\n\nexport const reqUpdateRole = role => ajax(BASE + '/manage/role/update', role, 'POST'); //获取所有用户\n\nexport const reqUsers = () => ajax(BASE + '/manage/user/list'); //删除用户\n\nexport const reqDeleteUser = userId => ajax(BASE + '/manage/role/delete', {\n  userId\n}, 'POST');","map":{"version":3,"sources":["/Users/ao/WebstormProjects/react-management/src/api/index.js"],"names":["jsonp","ajax","BASE","reqLogin","username","password","reqWeather","city","Promise","resolve","reject","url","err","data","status","results","weather_data","dayPictureUrl","weather","error","reqCategorys","parentId","reqAddCategory","categoryName","reqUpdateCategory","categoryId","reqProduct","pageNum","pageSize","reqSearchProduct","SearchName","SearchType","reqUpdateStatus","productId","reqCategory","reqDeleteImg","name","reqAddOrUpdateProduct","product","_id","reqRole","reqAddRole","reqUpdateRole","role","reqUsers","reqDeleteUser","userId"],"mappings":"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","sourcesContent":["import jsonp from 'jsonp';\nimport {message} from 'antd';\nimport ajax from './ajax';\nconst BASE = '';\nexport const reqLogin = (username, password) => ajax(BASE + '/login', {username, password}, 'POST');\nexport const reqWeather = (city)=>{\n  return new Promise((resolve, reject) => {\n    const url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=3p49MVra6urFRGOT9s8UBWr2`\n    jsonp(url, {}, (err, data) => {\n      if (!err && data.status==='success') {\n        // 取出需要的数据\n        const {dayPictureUrl, weather} = data.results[0].weather_data[0]\n        resolve({dayPictureUrl, weather})\n      } else {\n        message.error('获取天气信息失败!')\n      }\n\n    })\n  })\n};\n// 获取一级/二级分类的列表\nexport const reqCategorys = (parentId) => ajax(BASE + '/manage/category/list', {parentId});\n\n// 添加分类\nexport const reqAddCategory = (categoryName, parentId) => ajax(BASE + '/manage/category/add', {categoryName, parentId}, 'POST');\n\n// 更新分类\nexport const reqUpdateCategory = ({categoryId, categoryName}) => ajax(BASE + '/manage/category/update', {categoryId, categoryName}, 'POST');\n//获取商品列表\nexport const reqProduct=(pageNum,pageSize)=>ajax(BASE+'/manage/product/list',{pageNum,pageSize});\n//搜索商品,有两种SearchType类型，一种是更具名字搜索，一种是更具内容描述进行搜索\nexport const reqSearchProduct=(pageNum,pageSize,SearchName,SearchType)=>ajax(BASE+'/manage/product/search',{pageNum,pageSize,[SearchType]:SearchName});\n//更新商品的状态，判断是否已上架\nexport const reqUpdateStatus = (productId, status) => ajax(BASE + '/manage/product/updateStatus', {productId, status}, 'POST');\n//获取商品所属分类\nexport const reqCategory = (categoryId) => ajax(BASE + '/manage/category/info', {categoryId});\n//删除图片列表\nexport const reqDeleteImg = (name) => ajax(BASE + '/manage/img/delete', {name}, 'POST');\n//更新或添加商品\nexport const reqAddOrUpdateProduct = (product) => ajax(BASE + '/manage/product/' + ( product._id?'update':'add'), product, 'POST');\n//获取所有角色\nexport const reqRole = ()=>ajax(BASE+'/manage/role/list');\n//添加角色\nexport const reqAddRole = (name)=>ajax(BASE+'/manage/role/add',{name},'POST');\n//更新角色\nexport const reqUpdateRole = (role)=>ajax(BASE+'/manage/role/update',role,'POST');\n//获取所有用户\nexport const reqUsers=()=>ajax(BASE+'/manage/user/list');\n//删除用户\nexport const reqDeleteUser=(userId)=>ajax(BASE+'/manage/role/delete',{userId},'POST');"]},"metadata":{},"sourceType":"module"}