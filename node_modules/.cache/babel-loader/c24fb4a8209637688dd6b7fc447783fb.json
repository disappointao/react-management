{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/icon/style\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nvar _jsxFileName = \"/Users/ao/WebstormProjects/react-management/src/view/category/category.jsx\";\nimport React, { Component } from 'react';\nimport { reqAddCategory, reqCategorys, reqUpdateCategory } from '../../api/index';\nimport LinkButton from '../../components/link-button/button';\nimport AddCategory from './addCategory';\nimport UpdateCategory from './updateCategory';\nexport default class Category extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      parentId: '0',\n      category: [],\n      subCategory: [],\n      parentName: '',\n      showStatus: 0\n    };\n\n    this.getColumns = () => {\n      this.columns = [{\n        title: '分类',\n        dataIndex: 'name',\n        key: 'name'\n      }, {\n        width: 300,\n        title: '操作',\n        align: 'center',\n        render: category => {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 30\n            },\n            __self: this\n          }, React.createElement(LinkButton, {\n            onClick: () => this.showUpdate(category),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31\n            },\n            __self: this\n          }, \"\\u4FEE\\u6539\\u5206\\u7C7B\"), this.state.parentId === '0' ? React.createElement(LinkButton, {\n            onClick: () => this.showSubCategory(category),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          }, \"\\u67E5\\u770B\\u5B50\\u5206\\u7C7B\") : '');\n        }\n      }];\n    };\n\n    this.getData = async parentId => {\n      this.setState({\n        loading: true\n      });\n      parentId = parentId || this.state.parentId;\n      const result = await reqCategorys(parentId);\n\n      if (result.status === 0) {\n        const category = result.data;\n\n        if (parentId === '0') {\n          this.setState({\n            category,\n            loading: false\n          });\n        } else {\n          this.setState({\n            subCategory: category,\n            loading: false\n          });\n        }\n      } else {\n        _message.error('获取分类失败！');\n      }\n    };\n\n    this.showSubCategory = category => {\n      this.setState({\n        parentId: category._id,\n        parentName: category.name\n      }, () => {\n        this.getData();\n      });\n    };\n\n    this.showCategory = () => {\n      this.setState({\n        parentId: '0',\n        parentName: '',\n        subCategory: []\n      });\n    };\n\n    this.addCategory = () => {\n      this.form.validateFields(async (err, value) => {\n        if (!err) {\n          const parentId = value.parentId,\n                categoryName = value.categoryName;\n          this.form.resetFields();\n          const result = await reqAddCategory(categoryName, parentId);\n\n          if (result.status === 0) {\n            this.setState({\n              showStatus: 0\n            });\n\n            if (parentId === this.state.parentId) {\n              this.getData();\n            } else if (parentId === '0') {\n              this.getData(parentId);\n            }\n          }\n        }\n      });\n    };\n\n    this.updateCategory = () => {\n      this.form.validateFields(async (err, value) => {\n        if (!err) {\n          const categoryId = this.category._id;\n          const categoryName = value.categoryName;\n          this.form.resetFields();\n          const result = await reqUpdateCategory({\n            categoryId,\n            categoryName\n          });\n\n          if (result.status === 0) {\n            this.setState({\n              showStatus: 0\n            });\n            this.getData();\n          }\n        }\n      });\n    };\n\n    this.showAdd = () => {\n      this.setState({\n        showStatus: 1\n      });\n    };\n\n    this.showUpdate = category => {\n      this.category = category;\n      this.setState({\n        showStatus: 2\n      });\n    };\n\n    this.handleCancel = () => {\n      this.form.resetFields();\n      this.setState({\n        showStatus: 0\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.getColumns();\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    const _this$state = this.state,\n          category = _this$state.category,\n          loading = _this$state.loading,\n          parentId = _this$state.parentId,\n          subCategory = _this$state.subCategory,\n          parentName = _this$state.parentName,\n          showStatus = _this$state.showStatus;\n    const extra = React.createElement(_Button, {\n      type: \"primary\",\n      onClick: this.showAdd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), \"\\u6DFB\\u52A0\");\n    const title = parentId === '0' ? '一级分类列表' : React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(LinkButton, {\n      onClick: this.showCategory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"\\u4E00\\u7EA7\\u5206\\u7C7B\\u5217\\u8868\"), React.createElement(_Icon, {\n      type: \"arrow-right\",\n      style: {\n        marginRight: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, parentName));\n    const categoryItem = this.category || {};\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(_Card, {\n      title: title,\n      extra: extra,\n      style: {\n        height: 500\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      loading: loading,\n      bordered: true,\n      dataSource: parentId === '0' ? category : subCategory,\n      columns: this.columns,\n      rowKey: \"_id\",\n      pagination: {\n        defaultPageSize: 5,\n        defaultCurrent: 1,\n        showQuickJumper: true\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }), React.createElement(_Modal, {\n      title: \"\\u6DFB\\u52A0\\u5206\\u7C7B\",\n      visible: showStatus === 1,\n      onOk: this.addCategory,\n      onCancel: this.handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(AddCategory, {\n      category: category,\n      setForm: form => {\n        this.form = form;\n      },\n      parentId: parentId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(_Modal, {\n      title: \"\\u66F4\\u65B0\\u5206\\u7C7B\",\n      visible: showStatus === 2,\n      onOk: this.updateCategory,\n      onCancel: this.handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(UpdateCategory, {\n      categoryName: categoryItem.name,\n      setForm: form => {\n        this.form = form;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })), \"          \"));\n  }\n\n}","map":{"version":3,"sources":["/Users/ao/WebstormProjects/react-management/src/view/category/category.jsx"],"names":["React","Component","reqAddCategory","reqCategorys","reqUpdateCategory","LinkButton","AddCategory","UpdateCategory","Category","state","loading","parentId","category","subCategory","parentName","showStatus","getColumns","columns","title","dataIndex","key","width","align","render","showUpdate","showSubCategory","getData","setState","result","status","data","error","_id","name","showCategory","addCategory","form","validateFields","err","value","categoryName","resetFields","updateCategory","categoryId","showAdd","handleCancel","componentWillMount","componentDidMount","extra","marginRight","categoryItem","height","defaultPageSize","defaultCurrent","showQuickJumper"],"mappings":"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","sourcesContent":["import  React,{Component} from 'react';\nimport {Button,Icon,Card,Table,message,Modal} from 'antd';\n\nimport {reqAddCategory, reqCategorys, reqUpdateCategory} from '../../api/index';\nimport LinkButton from '../../components/link-button/button';\nimport AddCategory from './addCategory';\nimport UpdateCategory from './updateCategory';\nexport default class Category extends  Component {\n  state={\n    loading: false,\n    parentId:'0',\n    category: [],\n    subCategory: [],\n    parentName: '',\n    showStatus:0,\n  };\n  getColumns=()=>{\n    this.columns=[\n      {\n        title: '分类',\n        dataIndex: 'name',\n        key: 'name',\n      },\n      {\n        width:300,\n        title: '操作',\n        align:'center',\n        render:(category)=>{\n          return (\n              <span>\n                  <LinkButton onClick={()=>this.showUpdate(category)}>修改分类</LinkButton>\n                {this.state.parentId==='0'?<LinkButton onClick={()=>this.showSubCategory(category)}>查看子分类</LinkButton>:''}\n                </span>\n          )\n        }\n      },\n    ];\n  };\n  getData=async (parentId)=>{\n    this.setState({\n      loading:true,\n    });\n    parentId = parentId || this.state.parentId;\n    const result=await reqCategorys(parentId);\n    if(result.status===0){\n      const category = result.data;\n      if(parentId==='0') {\n        this.setState({\n          category,\n          loading:false,\n        });\n      } else {\n        this.setState({\n          subCategory: category,\n          loading:false,\n        })\n      }\n    }else{\n      message.error('获取分类失败！');\n    }\n  };\n  showSubCategory = (category) => {\n    this.setState({\n      parentId: category._id,\n      parentName: category.name\n    }, () => {\n      this.getData();\n    })\n  };\n  showCategory=()=>{\n    this.setState({\n      parentId: '0',\n      parentName: '',\n      subCategory: []\n    })\n  };\n  addCategory= ()=>{\n    this.form.validateFields(async (err,value)=>{\n      if(!err){\n        const {parentId, categoryName}=value;\n        this.form.resetFields();\n        const result=await reqAddCategory(categoryName,parentId);\n        if(result.status===0){\n          this.setState({\n            showStatus:0\n          });\n          if(parentId===this.state.parentId){\n            this.getData();\n          }else if(parentId==='0'){\n            this.getData(parentId);\n          }\n        }\n      }\n    })\n  };\n  updateCategory= ()=>{\n    this.form.validateFields(async (err,value)=>{\n      if(!err){\n        const categoryId=this.category._id;\n        const {categoryName}=value;\n        this.form.resetFields();\n        const result=await reqUpdateCategory({categoryId,categoryName});\n        if(result.status===0){\n          this.setState({\n            showStatus:0\n          });\n          this.getData();\n        }\n      }\n    } );\n  };\n  showAdd=()=>{\n    this.setState({\n      showStatus:1\n    })\n  };\n  showUpdate=(category)=>{\n    this.category=category;\n    this.setState({\n      showStatus:2\n    })\n  };\n  handleCancel=()=>{\n    this.form.resetFields();\n    this.setState({\n      showStatus:0\n    })\n  };\n  componentWillMount() {\n    this.getColumns();\n  };\n  componentDidMount() {\n    this.getData();\n  }\n\n  render() {\n    const {category,loading,parentId,subCategory,parentName,showStatus} =this.state;\n    const extra = (\n        <Button type='primary' onClick={this.showAdd}>\n          <Icon type='plus'/>\n          添加\n        </Button>\n    );\n    const title = parentId === '0' ? '一级分类列表' : (\n        <span>\n        <LinkButton onClick={this.showCategory}>一级分类列表</LinkButton>\n        <Icon type='arrow-right' style={{marginRight: 5}}/>\n        <span>{parentName}</span>\n      </span>\n    );\n    const categoryItem=this.category || {};\n    return (\n        <div>\n          <Card title={title} extra={extra} style={{height:500}}>\n            <Table loading={loading} bordered dataSource={parentId==='0'?category:subCategory} columns={this.columns} rowKey='_id' pagination={\n              {defaultPageSize:5,defaultCurrent:1,showQuickJumper: true}\n            } />\n            <Modal\n                title=\"添加分类\"\n                visible={showStatus===1}\n                onOk={this.addCategory}\n                onCancel={this.handleCancel}\n            >\n              <AddCategory category={category} setForm={(form)=>{this.form=form}} parentId={parentId}/>\n            </Modal>\n\n            <Modal\n                title=\"更新分类\"\n                visible={showStatus===2}\n                onOk={this.updateCategory}\n                onCancel={this.handleCancel}\n            >\n              <UpdateCategory categoryName={categoryItem.name} setForm={(form)=>{this.form=form}}/>\n            </Modal>          </Card>\n        </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}