{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nvar _jsxFileName = \"/Users/ao/WebstormProjects/react-management/src/view/user/user.jsx\";\nimport React, { Component } from 'react';\nimport LinkButton from '../../components/link-button/button';\nimport { reqUsers } from '../../api/index';\nexport default class User extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      columns: [],\n      users: []\n    };\n  }\n\n  initColumns() {\n    this.setState({\n      columns: [{\n        title: '用户名',\n        dataIndex: 'username',\n        align: 'center'\n      }, {\n        title: '邮箱',\n        align: 'center',\n        dataIndex: 'email'\n      }, {\n        title: '电话',\n        dataIndex: 'phone',\n        align: 'center'\n      }, {\n        title: '注册时间',\n        align: 'center',\n        dataIndex: 'create_time'\n      }, {\n        title: '所属角色',\n        align: 'center',\n        dataIndex: 'role_id'\n      }, {\n        title: '操作',\n        align: 'center',\n        render: user => React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, React.createElement(LinkButton, {\n          onClick: () => this.showUpdate(user),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"\\u4FEE\\u6539\"), React.createElement(LinkButton, {\n          onClick: () => this.deleteUser(user),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"\\u5220\\u9664\"))\n      }]\n    });\n  }\n\n  async initUsers() {\n    const result = await reqUsers();\n\n    if (result.status === 0) {\n      const _result$data = result.data,\n            users = _result$data.users,\n            role = _result$data.role;\n      this.setState({\n        users\n      });\n    }\n  }\n\n  componentWillMount() {\n    this.initColumns();\n  }\n\n  componentDidMount() {\n    this.initUsers();\n  }\n\n  render() {\n    const title = React.createElement(_Button, {\n      type: 'primary',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"\\u521B\\u5EFA\\u7528\\u6237\");\n    const _this$state = this.state,\n          columns = _this$state.columns,\n          users = _this$state.users;\n    return React.createElement(_Card, {\n      title: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(_Table, {\n      bordered: true,\n      columns: columns,\n      dataSource: users,\n      pagination: {\n        defaultPageSize: 4\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/ao/WebstormProjects/react-management/src/view/user/user.jsx"],"names":["React","Component","LinkButton","reqUsers","User","state","columns","users","initColumns","setState","title","dataIndex","align","render","user","showUpdate","deleteUser","initUsers","result","status","data","role","componentWillMount","componentDidMount","defaultPageSize"],"mappings":";;;;;;;AAAA,OAAQA,KAAR,IAAeC,SAAf,QAA+B,OAA/B;AAEA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,SAAQC,QAAR,QAAuB,iBAAvB;AACA,eAAe,MAAMC,IAAN,SAAoBH,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC3CI,KAD2C,GACrC;AACJC,MAAAA,OAAO,EAAC,EADJ;AAEJC,MAAAA,KAAK,EAAC;AAFF,KADqC;AAAA;;AAK3CC,EAAAA,WAAW,GAAE;AACX,SAAKC,QAAL,CAAc;AACZH,MAAAA,OAAO,EAAC,CACN;AACEI,QAAAA,KAAK,EAAE,KADT;AAEEC,QAAAA,SAAS,EAAE,UAFb;AAGEC,QAAAA,KAAK,EAAC;AAHR,OADM,EAMN;AACEF,QAAAA,KAAK,EAAE,IADT;AAEEE,QAAAA,KAAK,EAAC,QAFR;AAGED,QAAAA,SAAS,EAAE;AAHb,OANM,EAYN;AACED,QAAAA,KAAK,EAAE,IADT;AAEEC,QAAAA,SAAS,EAAE,OAFb;AAGEC,QAAAA,KAAK,EAAC;AAHR,OAZM,EAiBN;AACEF,QAAAA,KAAK,EAAE,MADT;AAEEE,QAAAA,KAAK,EAAC,QAFR;AAGED,QAAAA,SAAS,EAAE;AAHb,OAjBM,EAsBN;AACED,QAAAA,KAAK,EAAE,MADT;AAEEE,QAAAA,KAAK,EAAC,QAFR;AAGED,QAAAA,SAAS,EAAE;AAHb,OAtBM,EA2BN;AACED,QAAAA,KAAK,EAAE,IADT;AAEEE,QAAAA,KAAK,EAAC,QAFR;AAGEC,QAAAA,MAAM,EAAGC,IAAD,IACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACF,oBAAC,UAAD;AAAY,UAAA,OAAO,EAAE,MAAM,KAAKC,UAAL,CAAgBD,IAAhB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADE,EAEF,oBAAC,UAAD;AAAY,UAAA,OAAO,EAAE,MAAM,KAAKE,UAAL,CAAgBF,IAAhB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFE;AAJN,OA3BM;AADI,KAAd;AAwCD;;AACD,QAAMG,SAAN,GAAiB;AACf,UAAMC,MAAM,GAAE,MAAMf,QAAQ,EAA5B;;AACA,QAAGe,MAAM,CAACC,MAAP,KAAgB,CAAnB,EAAqB;AAAA,2BACAD,MAAM,CAACE,IADP;AAAA,YACZb,KADY,gBACZA,KADY;AAAA,YACNc,IADM,gBACNA,IADM;AAEnB,WAAKZ,QAAL,CAAc;AACZF,QAAAA;AADY,OAAd;AAGD;AACF;;AACDe,EAAAA,kBAAkB,GAAG;AACpB,SAAKd,WAAL;AACA;;AACDe,EAAAA,iBAAiB,GAAE;AACjB,SAAKN,SAAL;AACD;;AACDJ,EAAAA,MAAM,GAAG;AACP,UAAMH,KAAK,GACP;AAAQ,MAAA,IAAI,EAAE,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ;AADO,wBAMe,KAAKL,KANpB;AAAA,UAMAC,OANA,eAMAA,OANA;AAAA,UAMQC,KANR,eAMQA,KANR;AAOP,WACI;AAAM,MAAA,KAAK,EAAEG,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACI,MAAA,QAAQ,EAAE,IADd;AAEI,MAAA,OAAO,EAAEJ,OAFb;AAGI,MAAA,UAAU,EAAEC,KAHhB;AAII,MAAA,UAAU,EAAE;AAACiB,QAAAA,eAAe,EAAC;AAAjB,OAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADJ;AAUD;;AA/E0C","sourcesContent":["import  React,{Component} from 'react';\nimport {Card,Table,Button} from 'antd';\nimport LinkButton from '../../components/link-button/button';\nimport {reqUsers} from '../../api/index';\nexport default class User extends  Component {\n  state={\n    columns:[],\n    users:[]\n  };\n  initColumns(){\n    this.setState({\n      columns:[\n        {\n          title: '用户名',\n          dataIndex: 'username',\n          align:'center'\n        },\n        {\n          title: '邮箱',\n          align:'center',\n          dataIndex: 'email'\n        },\n\n        {\n          title: '电话',\n          dataIndex: 'phone',\n          align:'center'\n        },\n        {\n          title: '注册时间',\n          align:'center',\n          dataIndex: 'create_time'\n        },\n        {\n          title: '所属角色',\n          align:'center',\n          dataIndex: 'role_id',\n        },\n        {\n          title: '操作',\n          align:'center',\n          render: (user) => (\n              <span>\n            <LinkButton onClick={() => this.showUpdate(user)}>修改</LinkButton>\n            <LinkButton onClick={() => this.deleteUser(user)}>删除</LinkButton>\n          </span>\n          )\n        },\n      ]\n    })\n  }\n  async initUsers(){\n    const result= await reqUsers();\n    if(result.status===0){\n      const {users,role}=result.data;\n      this.setState({\n        users\n      })\n    }\n  }\n  componentWillMount() {\n   this.initColumns();\n  }\n  componentDidMount(){\n    this.initUsers();\n  }\n  render() {\n    const title=(\n        <Button type={'primary'}>\n          创建用户\n        </Button>\n    );\n    const {columns,users}=this.state;\n    return (\n        <Card title={title}>\n          <Table\n              bordered={true}\n              columns={columns}\n              dataSource={users}\n              pagination={{defaultPageSize:4}}\n          />\n        </Card>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}