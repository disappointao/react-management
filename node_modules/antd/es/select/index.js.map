{"version":3,"sources":["select/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","PropTypes","RcSelect","Option","OptGroup","classNames","omit","ConfigConsumer","warning","Icon","tuple","SelectSizes","SelectPropTypes","prefixCls","string","className","size","oneOf","notFoundContent","any","showSearch","bool","optionLabelProp","transitionName","choiceTransitionName","id","Select","props","saveSelect","node","rcSelect","renderSelect","getContextPopupContainer","getPopupContainer","getPrefixCls","renderEmpty","_a","customizePrefixCls","mode","removeIcon","clearIcon","menuItemSelectedIcon","showArrow","inputValue","searchValue","restProps","rest","cls","isCombobox","modeConfig","multiple","tags","combobox","finalRemoveIcon","isValidElement","cloneElement","finalClearIcon","finalMenuItemSelectedIcon","renderSuffixIcon","getNotFoundContent","undefined","focus","blur","SECRET_COMBOBOX_MODE_DO_NOT_USE","loading","suffixIcon","Component","defaultProps","propTypes"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport RcSelect, { Option, OptGroup } from 'rc-select';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport Icon from '../icon';\nimport { tuple } from '../_util/type';\nconst SelectSizes = tuple('default', 'large', 'small');\nconst SelectPropTypes = {\n    prefixCls: PropTypes.string,\n    className: PropTypes.string,\n    size: PropTypes.oneOf(SelectSizes),\n    notFoundContent: PropTypes.any,\n    showSearch: PropTypes.bool,\n    optionLabelProp: PropTypes.string,\n    transitionName: PropTypes.string,\n    choiceTransitionName: PropTypes.string,\n    id: PropTypes.string,\n};\nexport default class Select extends React.Component {\n    constructor(props) {\n        super(props);\n        this.saveSelect = (node) => {\n            this.rcSelect = node;\n        };\n        this.renderSelect = ({ getPopupContainer: getContextPopupContainer, getPrefixCls, renderEmpty, }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, className = '', size, mode, getPopupContainer, removeIcon, clearIcon, menuItemSelectedIcon, showArrow, inputValue, searchValue } = _a, restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"mode\", \"getPopupContainer\", \"removeIcon\", \"clearIcon\", \"menuItemSelectedIcon\", \"showArrow\", \"inputValue\", \"searchValue\"]);\n            const rest = omit(restProps, ['inputIcon']);\n            const prefixCls = getPrefixCls('select', customizePrefixCls);\n            const cls = classNames({\n                [`${prefixCls}-lg`]: size === 'large',\n                [`${prefixCls}-sm`]: size === 'small',\n                [`${prefixCls}-show-arrow`]: showArrow,\n            }, className);\n            let { optionLabelProp } = this.props;\n            if (this.isCombobox()) {\n                // children 带 dom 结构时，无法填入输入框\n                optionLabelProp = optionLabelProp || 'value';\n            }\n            const modeConfig = {\n                multiple: mode === 'multiple',\n                tags: mode === 'tags',\n                combobox: this.isCombobox(),\n            };\n            const finalRemoveIcon = (removeIcon &&\n                (React.isValidElement(removeIcon)\n                    ? React.cloneElement(removeIcon, {\n                        className: classNames(removeIcon.props.className, `${prefixCls}-remove-icon`),\n                    })\n                    : removeIcon)) || <Icon type=\"close\" className={`${prefixCls}-remove-icon`}/>;\n            const finalClearIcon = (clearIcon &&\n                (React.isValidElement(clearIcon)\n                    ? React.cloneElement(clearIcon, {\n                        className: classNames(clearIcon.props.className, `${prefixCls}-clear-icon`),\n                    })\n                    : clearIcon)) || (<Icon type=\"close-circle\" theme=\"filled\" className={`${prefixCls}-clear-icon`}/>);\n            const finalMenuItemSelectedIcon = (menuItemSelectedIcon &&\n                (React.isValidElement(menuItemSelectedIcon)\n                    ? React.cloneElement(menuItemSelectedIcon, {\n                        className: classNames(menuItemSelectedIcon.props.className, `${prefixCls}-selected-icon`),\n                    })\n                    : menuItemSelectedIcon)) || <Icon type=\"check\" className={`${prefixCls}-selected-icon`}/>;\n            return (<RcSelect inputIcon={this.renderSuffixIcon(prefixCls)} removeIcon={finalRemoveIcon} clearIcon={finalClearIcon} menuItemSelectedIcon={finalMenuItemSelectedIcon} showArrow={showArrow} {...rest} {...modeConfig} inputValue={searchValue || inputValue} prefixCls={prefixCls} className={cls} optionLabelProp={optionLabelProp || 'children'} notFoundContent={this.getNotFoundContent(renderEmpty)} getPopupContainer={getPopupContainer || getContextPopupContainer} ref={this.saveSelect}/>);\n        };\n        warning(props.mode !== 'combobox', 'Select', 'The combobox mode is deprecated, ' +\n            'it will be removed in next major version, ' +\n            'please use AutoComplete instead');\n        warning(!('inputValue' in props), 'Select', '`inputValue` is deprecated. Please use `searchValue` instead.');\n    }\n    getNotFoundContent(renderEmpty) {\n        const { notFoundContent } = this.props;\n        if (notFoundContent !== undefined) {\n            return notFoundContent;\n        }\n        if (this.isCombobox()) {\n            return null;\n        }\n        return renderEmpty('Select');\n    }\n    focus() {\n        this.rcSelect.focus();\n    }\n    blur() {\n        this.rcSelect.blur();\n    }\n    isCombobox() {\n        const { mode } = this.props;\n        return mode === 'combobox' || mode === Select.SECRET_COMBOBOX_MODE_DO_NOT_USE;\n    }\n    renderSuffixIcon(prefixCls) {\n        const { loading, suffixIcon } = this.props;\n        if (suffixIcon) {\n            return React.isValidElement(suffixIcon)\n                ? React.cloneElement(suffixIcon, {\n                    className: classNames(suffixIcon.props.className, `${prefixCls}-arrow-icon`),\n                })\n                : suffixIcon;\n        }\n        if (loading) {\n            return <Icon type=\"loading\"/>;\n        }\n        return <Icon type=\"down\" className={`${prefixCls}-arrow-icon`}/>;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderSelect}</ConfigConsumer>;\n    }\n}\nSelect.Option = Option;\nSelect.OptGroup = OptGroup;\nSelect.SECRET_COMBOBOX_MODE_DO_NOT_USE = 'SECRET_COMBOBOX_MODE_DO_NOT_USE';\nSelect.defaultProps = {\n    showSearch: false,\n    transitionName: 'slide-up',\n    choiceTransitionName: 'zoom',\n};\nSelect.propTypes = SelectPropTypes;\n"],"file":"index.js"}